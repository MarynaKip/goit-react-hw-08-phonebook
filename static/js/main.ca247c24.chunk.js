(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{46:function(t,e,c){},71:function(t,e,c){"use strict";c.r(e);var n=c(13),a=c(0),r=c(9),o=c(14),s=c(35),u=(c(46),c(6)),i=c(20),d=c(39),b=c(75),l=c(19),j=function(t){return t.phoneBook.items},f=function(t){return t.phoneBook.filter},h=function(t){return t.phoneBook.isLoading},O=Object(l.a)([j,f],(function(t,e){var c=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(c)}))})),m=c(18),C=c.n(m),p=c(7),g=Object(p.b)("contacts/fetchContactsRequest"),v=Object(p.b)("contacts/fetchContactsSuccess"),x=Object(p.b)("contacts/fetchContactsError"),E={addContactRequest:Object(p.b)("contacts/addContactRequest"),addContactSuccess:Object(p.b)("contacts/addContactSuccess"),addContactError:Object(p.b)("contacts/addContactError"),deleteContactRequest:Object(p.b)("contacts/deleteContactRequest"),deleteContactSuccess:Object(p.b)("contacts/deleteContactSuccess"),deleteContactError:Object(p.b)("contacts/deleteContactError"),fetchContactsRequest:g,fetchContactsSuccess:v,fetchContactsError:x,changeFilter:Object(p.b)("contacts/ChangeFilter")};C.a.defaults.baseURL="http://localhost:4040";var S=function(){return function(t){t(E.fetchContactsRequest()),C.a.get("/contacts").then((function(e){var c=e.data;return t(E.fetchContactsSuccess(c))})).catch((function(e){return t(E.fetchContactsError(e))}))}},y=function(t){var e=t.name,c=t.number;return function(t){var n={name:e,number:c};t(E.addContactRequest()),C.a.post("/contacts",n).then((function(e){var c=e.data;return t(E.addContactSuccess(c))})).catch((function(e){return t(E.addContactError(e))}))}},q=function(t){return function(e){e(E.deleteContactRequest()),C.a.delete("/contacts/".concat(t)).then((function(){return e(E.deleteContactSuccess(t))})).catch((function(t){return e(E.deleteContactError(t))}))}},R=c(2),k={id:"",name:"",number:""},w=function(){var t=Object(o.d)(),e=Object(u.b)(),c=Object(a.useState)(k),r=Object(d.a)(c,2),s=r[0],l=r[1],f=s.name,h=s.number,O=Object(u.c)(j),m=function(t){l((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(i.a)({},t.target.name,t.target.value))}))};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("form",{onSubmit:function(c){c.preventDefault();var n={id:Object(b.a)(),name:f,number:Number(h)};O.some((function(t){return t.name===n.name}))?t.show("Contact is already in contscts."):e(y(n))},children:[Object(R.jsxs)("label",{children:[Object(R.jsx)("span",{children:"Name:"}),Object(R.jsx)("input",{type:"text",value:f,name:"name",onChange:m,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(R.jsxs)("label",{children:[Object(R.jsx)("span",{children:"Number:"}),Object(R.jsx)("input",{type:"tel",value:h,name:"number",onChange:m,pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(R.jsx)("button",{className:"button",type:"submit",children:"+ Add"})]})})},B=c(22),L=Object(B.a)({item:{display:"flex",marginBottom:10,alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#b30047"}}),N=function(t){var e=t.contactID,c=L(),n=Object(u.b)(),a=Object(u.c)(function(t){return function(e){return e.phoneBook.items.find((function(e){return e.id===t}))}}(e)),r=a.name,o=a.id,s=a.number;return Object(R.jsxs)("li",{className:c.item,children:[r,s,Object(R.jsx)("button",{className:"button",id:o,type:"button",onClick:function(){return n(q(o))},children:"Delete"})]},o)},A=Object(B.a)({list:{listStyle:"none",margin:0,padding:10}}),F=function(){var t=Object(u.b)(),e=A(),c=Object(u.c)(O);return Object(a.useEffect)((function(){return t(S())}),[]),Object(R.jsx)("ul",{className:e.list,children:c.map((function(t){return Object(R.jsx)(N,{contactID:t.id})}))})},z=function(){var t=Object(u.b)(),e=Object(u.c)(h),c=Object(u.c)(f);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"formBar",children:[Object(R.jsx)("span",{children:"Find:"}),Object(R.jsx)("input",{className:"input",type:"text",value:c,name:"filter",onChange:function(e){var c,n=e.target.value;c=n,t(E.changeFilter(c))}}),Object(R.jsx)(w,{})]}),e&&Object(R.jsx)("p",{children:"Loading..."}),Object(R.jsx)(F,{})]})},D=c(17),I=c(11),T=c(5),J=c(37),Z=c.n(J),M={isLoading:!1,error:"",contacts:{items:[{id:null,name:"",number:null}],filter:""}},U=Object(T.b)({items:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.contacts.items,e=arguments.length>1?arguments[1]:void 0,c=e.type,n=e.payload;switch(c){case"contacts/fetchContactsSuccess":return n;case"contacts/addContactSuccess":return[].concat(Object(D.a)(t),[n]);case"contacts/deleteContactSuccess":return Object(D.a)(t.filter((function(t){var e=t.id;return n!==e})));default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.contacts.filter,e=arguments.length>1?arguments[1]:void 0,c=e.payload;switch(e.type){case"contacts/ChangeFilter":return c;default:return t}},isLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.isLoading,e=arguments.length>1?arguments[1]:void 0,c=e.type;switch(c){case"contacts/fetchContactsRequest":case"contacts/addContactRequest":case"contacts/deleteContactRequest":return!0;case"contacts/fetchContactsSuccess":case"contacts/fetchContactsError":case"contacts/addContactSuccess":case"contacts/addContactError":case"contacts/deleteContactSuccess":case"contacts/deleteContactError":return!1;default:return t}},error:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.isLoading,e=arguments.length>1?arguments[1]:void 0,c=e.type,n=e.payload;switch(c){case"contacts/fetchContactsError":case"contacts/addContactError":case"contacts/deleteContactError":return n;default:return t}}}),$={key:"phoneBook",storage:Z.a},_=Object(I.g)($,U),G=Object(T.b)({phoneBook:_}),H=c(38),K=c.n(H),P=[].concat(Object(D.a)(Object(p.c)({serializableCheck:{ignoredActions:[I.a,I.f,I.b,I.c,I.d,I.e]}})),[K.a]),Q=Object(p.a)({reducer:G,middleware:P,devTools:!1}),V={position:o.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:o.c.SCALE},W=function(){return Object(R.jsx)(o.a,Object(n.a)(Object(n.a)({template:s.a},V),{},{children:Object(R.jsx)(u.a,{store:Q,children:Object(R.jsx)(z,{})})}))};Object(r.render)(Object(R.jsx)(W,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.ca247c24.chunk.js.map